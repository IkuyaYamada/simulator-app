# TODO List / できたことリスト

## ✅ 完了済み
- **データベーススキーマ**: init.sqlで作成済み
- **株価情報表示**: ティッカーシンボル検索でリアルタイム株価表示
- **シミュレーション作成機能**: 銘柄選択後のシミュレーション開始
- **シミュレーション一覧ページ**: 作成済みシミュレーションの表示
- **シミュレーション詳細ページ**: 個別シミュレーションの詳細情報表示
- **API実装**: POST/GET /api/simulations エンドポイント

## 🚧 次の実装予定
1. **チェックポイントシステム** - 投資戦略の進捗記録・評価
2. **投資仮説管理** - ポジティブ要因・リスク要因の管理
3. **売買条件の自動監視** - 購入・売却条件の自動チェック
4. **PnL記録システム** - 損益の自動計算・記録

---

## 実装順序の提案
```
1. チェックポイントシステム
   ↓
2. 投資仮説管理
   ↓
3. 売買条件の自動監視
   ↓
4. PnL記録システム
```

## 次のステップ - チェックポイントシステムの詳細実装計画

### 1. チェックポイント機能の設計
- **手動チェックポイント**: ユーザーが任意のタイミングで作成
- **自動チェックポイント**: 売買条件が満たされた時に自動作成
- **チェックポイント詳細**: 投資仮説、売買条件、PnL記録の関連付け

### 2. API実装
- **POST /api/checkpoints**: チェックポイント作成
- **GET /api/checkpoints/:simulationId**: シミュレーションのチェックポイント一覧
- **PUT /api/checkpoints/:id**: チェックポイント更新

### 3. フロントエンド実装
- **チェックポイント作成モーダル**: 手動チェックポイントの作成
- **チェックポイント一覧表示**: シミュレーション詳細ページでの表示
- **投資仮説入力フォーム**: チェックポイント作成時の仮説記録

### 4. データフロー
```
1. チェックポイント作成 → Checkpoint テーブルに新規レコード
2. 投資仮説記録 → Hypothesis テーブルに新規レコード
3. 売買条件設定 → Condition テーブルに新規レコード
4. PnL計算・記録 → PnLRecord テーブルに新規レコード
```

## 🐛 修正が必要な問題
- **日付がUTCになっている** - 日本時間（JST）で表示する必要がある
- **現在の条件も表示されるべき** - シミュレーション詳細ページで売買条件を表示
- **自動チェックポイントの作成タイミング** - 売買のタイミングで作られるべきなのに、最初に作られているのはおかしい
