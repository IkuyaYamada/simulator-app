# TODO List / できたことリスト

## ✅ 完了済み
- **データベーススキーマ**: init.sqlで作成済み
- **株価情報表示**: ティッカーシンボル検索でリアルタイム株価表示

## 🚧 次の実装予定
1. **シミュレーション作成機能** - 銘柄選択後のシミュレーション開始
2. **チェックポイントシステム** - 投資戦略の進捗記録・評価
3. **投資仮説管理** - ポジティブ要因・リスク要因の管理
4. **売買条件の自動監視** - 購入・売却条件の自動チェック

---

## 実装順序の提案
```
1. シミュレーション作成機能
   ↓
2. チェックポイントシステム
   ↓
3. 投資仮説管理
   ↓
4. 売買条件の自動監視
```

## 次のステップ - シミュレーション作成機能の詳細実装計画

### 1. データベース設計の確認
- **Stock テーブル**: 株価情報表示で取得したデータを保存
  - `symbol`, `name`, `sector`, `industry` をAPIから取得済み
- **Simulation テーブル**: シミュレーション基本情報
  - `initial_capital` (初期資本), `start_date`, `end_date`
  - 株価情報から自動設定: `stock_id` (既存または新規作成)

### 2. API実装
- **POST /api/simulations**: シミュレーション作成
  - リクエスト: `{ symbol, initialCapital, startDate, endDate }`
  - レスポンス: `{ simulationId, stockId, status }`
- **GET /api/simulations**: シミュレーション一覧取得

### 3. フロントエンド実装
- **NewSimulationModal の拡張**:
  - 株価情報表示後に「シミュレーション開始」ボタン追加
  - 初期資本入力フォーム (デフォルト: 100万円)
  - 期間設定 (デフォルト: 3ヶ月)
- **シミュレーション一覧ページ**:
  - 作成済みシミュレーションの表示
  - 各シミュレーションの基本情報とステータス

### 4. データフロー
```
1. 株価情報取得 → Stock テーブルに保存/更新
2. シミュレーション作成 → Simulation テーブルに新規レコード
3. 初期チェックポイント自動作成 → Checkpoint テーブル
4. シミュレーション一覧表示 → 複数テーブル JOIN クエリ
```

### 5. 必要なファイル
- `app/routes/api.simulations.ts` - シミュレーションAPI
- `app/components/dashboard/SimulationList.tsx` - シミュレーション一覧
- `app/routes/simulations.tsx` - シミュレーション一覧ページ
- データベース操作: Stock/Simulation/Checkpoint の CRUD

### 6. 実装順序
1. API作成 (simulations.ts)
2. モーダル拡張 (シミュレーション開始ボタン)
3. シミュレーション一覧ページ
4. データベース操作の実装
