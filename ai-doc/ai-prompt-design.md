# AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆä»•æ§˜æ›¸

## åŸºæœ¬æ–¹é‡

**AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§å‡ºåŠ›å½¢å¼ã‚’åˆ¶å¾¡ã—ã€ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æœŸå¾…å½¢å¼ã‚’æ˜ç¤º**

## ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ

### 1. åŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ§‹é€ 

```typescript
const generateAIPrompt = (keywords: string): string => {
  return `
æŠ•è³‡åˆ†æã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚

ã€æ¤œç´¢æ¡ä»¶ã€‘
ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: ${keywords}

ã€å‡ºåŠ›å½¢å¼ï¼ˆå¿…ãšã“ã®å½¢å¼ã§å›ç­”ã—ã¦ãã ã•ã„ï¼‰ã€‘

## åˆ†æçµæœ

### 1. æ¨å¥¨éŠ˜æŸ„
**éŠ˜æŸ„1:**
- ãƒ†ã‚£ãƒƒã‚«ãƒ¼: [ä¾‹: AAPL]
- ä¼šç¤¾å: [ä¾‹: Apple Inc.]
- æ¥­ç•Œ: [ä¾‹: ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼/ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãƒ¼ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ã‚¯ã‚¹]
- æŠ•è³‡æ¨å¥¨åº¦: [1-5]/5

**éŠ˜æŸ„2:**
- ãƒ†ã‚£ãƒƒã‚«ãƒ¼: [ä¾‹: NVDA]
- ä¼šç¤¾å: [ä¾‹: NVIDIA Corporation]
- æ¥­ç•Œ: [ä¾‹: ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼/ã‚»ãƒŸã‚³ãƒ³ãƒ€ã‚¯ã‚¿ãƒ¼]
- æŠ•è³‡æ¨å¥¨åº¦: [1-5]/5

### 2. æŠ•è³‡åˆ†æ

**éŠ˜æŸ„1ã®åˆ†æ:**
**ãƒã‚¸ãƒ†ã‚£ãƒ–è¦å› :**
- [è¦å› 1]
- [è¦å› 2]
- [è¦å› 3]

**ãƒªã‚¹ã‚¯è¦å› :**
- [ãƒªã‚¹ã‚¯1]
- [ãƒªã‚¹ã‚¯2]
- [ãƒªã‚¹ã‚¯3]

**æŠ•è³‡ä»®èª¬:**
[6ãƒ¶æœˆã€œ1å¹´ã®æŠ•è³‡æˆ¦ç•¥ã¨æœŸå¾…ã•ã‚Œã‚‹ä¾¡æ ¼å¤‰å‹•ã®ç†ç”±]

**éŠ˜æŸ„2ã®åˆ†æ:**
[åŒæ§˜ã®å½¢å¼ã§è¨˜è¼‰]

### 3. ç·åˆè©•ä¾¡
**æœ€ã‚‚æ¨å¥¨ã™ã‚‹éŠ˜æŸ„:** [ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã‚·ãƒ³ãƒœãƒ«]
**ç†ç”±:** [ç°¡æ½”ãªç†ç”±]
**æ¨å¥¨æŠ•è³‡æœŸé–“:** [ä¾‹: 6ãƒ¶æœˆã€œ1å¹´]

ã€æ³¨æ„äº‹é …ã€‘
- ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã‚·ãƒ³ãƒœãƒ«ã¯å¿…ãšå¤§æ–‡å­—ã®è‹±å­—ã§è¨˜è¼‰
- æŠ•è³‡æ¨å¥¨åº¦ã¯1-5ã®æ•°å€¤ã§è©•ä¾¡
- å…·ä½“çš„ãªæ•°å€¤ã‚„ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸåˆ†æ
- ãƒªã‚¹ã‚¯ã¨ãƒªã‚¿ãƒ¼ãƒ³ã®ä¸¡é¢ã‹ã‚‰è©•ä¾¡
`;
};
```

### 2. ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```typescript
const generateSystemMessage = (): string => {
  return `
ğŸ¤– **AIåˆ†æã®ä½¿ç”¨æ–¹æ³•**

1. **ä¸Šè¨˜ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼**ã—ã¦ã€ChatGPTã‚„Claudeãªã©ã®AIã‚µãƒ¼ãƒ“ã‚¹ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„

2. **AIå›ç­”ã®å½¢å¼**ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
   - âœ… ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã‚·ãƒ³ãƒœãƒ«ï¼ˆä¾‹ï¼šAAPL, NVDAï¼‰
   - âœ… æŠ•è³‡æ¨å¥¨åº¦ï¼ˆ1-5æ®µéšï¼‰
   - âœ… ãƒã‚¸ãƒ†ã‚£ãƒ–è¦å› ãƒ»ãƒªã‚¹ã‚¯è¦å› 
   - âœ… æŠ•è³‡ä»®èª¬

3. **AIå›ç­”ã‚’ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«è²¼ã‚Šä»˜ã‘**ã—ã¦ãã ã•ã„

4. ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•çš„ã«ï¼š
   - ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã‚·ãƒ³ãƒœãƒ«ã‚’æŠ½å‡º
   - æŠ•è³‡è¦å› ã‚’æ•´ç†
   - ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã«å¿…è¦ãªæƒ…å ±ã‚’æº–å‚™

**ğŸ’¡ ãƒ’ãƒ³ãƒˆ:** AIå›ç­”ãŒæŒ‡å®šã®å½¢å¼ã«ãªã£ã¦ã„ãªã„å ´åˆã¯ã€AIã«ã€ŒæŒ‡å®šã®å½¢å¼ã§å›ç­”ã—ã¦ãã ã•ã„ã€ã¨è¿½åŠ ã§ä¾é ¼ã—ã¦ãã ã•ã„ã€‚
`;
};
```

## UIè¨­è¨ˆã®æ›´æ–°

### éŠ˜æŸ„æ¤œç´¢ãƒ»AIãƒªã‚µãƒ¼ãƒç”»é¢ï¼ˆæ›´æ–°ç‰ˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” éŠ˜æŸ„æ¤œç´¢ã¨AIãƒªã‚µãƒ¼ãƒ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: [AIé–¢é€£ä¼æ¥­ã®æˆé•·æ ª          ] [æ¤œç´¢]    â”‚
â”‚                                                         â”‚
â”‚ ğŸ¤– AIåˆ†æã®ä½¿ç”¨æ–¹æ³•                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. ä¸‹è¨˜ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦AIã‚µãƒ¼ãƒ“ã‚¹ã«è²¼ã‚Šä»˜ã‘ â”‚ â”‚
â”‚ â”‚ 2. AIå›ç­”ã‚’æŒ‡å®šå½¢å¼ã§å–å¾—                           â”‚ â”‚
â”‚ â”‚ 3. å›ç­”ã‚’ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«è²¼ã‚Šä»˜ã‘               â”‚ â”‚
â”‚ â”‚ 4. ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•è§£æã—ã¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æº–å‚™       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ ğŸ“‹ ç”Ÿæˆã•ã‚ŒãŸAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æŠ•è³‡åˆ†æã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚                            â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ã€æ¤œç´¢æ¡ä»¶ã€‘                                        â”‚ â”‚
â”‚ â”‚ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: AIé–¢é€£ä¼æ¥­ã®æˆé•·æ ª                      â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ã€å‡ºåŠ›å½¢å¼ï¼ˆå¿…ãšã“ã®å½¢å¼ã§å›ç­”ã—ã¦ãã ã•ã„ï¼‰ã€‘       â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ## åˆ†æçµæœ                                         â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ### 1. æ¨å¥¨éŠ˜æŸ„                                     â”‚ â”‚
â”‚ â”‚ **éŠ˜æŸ„1:**                                          â”‚ â”‚
â”‚ â”‚ - ãƒ†ã‚£ãƒƒã‚«ãƒ¼: [ä¾‹: AAPL]                           â”‚ â”‚
â”‚ â”‚ - ä¼šç¤¾å: [ä¾‹: Apple Inc.]                         â”‚ â”‚
â”‚ â”‚ - æ¥­ç•Œ: [ä¾‹: ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼]                         â”‚ â”‚
â”‚ â”‚ - æŠ•è³‡æ¨å¥¨åº¦: [1-5]/5                              â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ### 2. æŠ•è³‡åˆ†æ                                     â”‚ â”‚
â”‚ â”‚ **éŠ˜æŸ„1ã®åˆ†æ:**                                    â”‚ â”‚
â”‚ â”‚ **ãƒã‚¸ãƒ†ã‚£ãƒ–è¦å› :**                                 â”‚ â”‚
â”‚ â”‚ - [è¦å› 1]                                          â”‚ â”‚
â”‚ â”‚ - [è¦å› 2]                                          â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ **ãƒªã‚¹ã‚¯è¦å› :**                                     â”‚ â”‚
â”‚ â”‚ - [ãƒªã‚¹ã‚¯1]                                        â”‚ â”‚
â”‚ â”‚ - [ãƒªã‚¹ã‚¯2]                                        â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ **æŠ•è³‡ä»®èª¬:**                                       â”‚ â”‚
â”‚ â”‚ [6ãƒ¶æœˆã€œ1å¹´ã®æŠ•è³‡æˆ¦ç•¥]                             â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ### 3. ç·åˆè©•ä¾¡                                     â”‚ â”‚
â”‚ â”‚ **æœ€ã‚‚æ¨å¥¨ã™ã‚‹éŠ˜æŸ„:** [ãƒ†ã‚£ãƒƒã‚«ãƒ¼]                  â”‚ â”‚
â”‚ â”‚ **ç†ç”±:** [ç†ç”±]                                   â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ [ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼]                                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ ğŸ“ AIåˆ†æçµæœå…¥åŠ›                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ AIã‹ã‚‰ã®åˆ†æçµæœã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„:               â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ ## åˆ†æçµæœ                                     â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ### 1. æ¨å¥¨éŠ˜æŸ„                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **éŠ˜æŸ„1:**                                      â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ãƒ†ã‚£ãƒƒã‚«ãƒ¼: NVDA                              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ä¼šç¤¾å: NVIDIA Corporation                    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - æ¥­ç•Œ: ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼/ã‚»ãƒŸã‚³ãƒ³ãƒ€ã‚¯ã‚¿ãƒ¼           â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - æŠ•è³‡æ¨å¥¨åº¦: 4/5                              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **éŠ˜æŸ„2:**                                      â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ãƒ†ã‚£ãƒƒã‚«ãƒ¼: AAPL                              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ä¼šç¤¾å: Apple Inc.                           â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - æ¥­ç•Œ: ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼/ã‚³ãƒ³ã‚·ãƒ¥ãƒ¼ãƒãƒ¼ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ã‚¯ã‚¹ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - æŠ•è³‡æ¨å¥¨åº¦: 3/5                              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ### 2. æŠ•è³‡åˆ†æ                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **NVDAã®åˆ†æ:**                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **ãƒã‚¸ãƒ†ã‚£ãƒ–è¦å› :**                             â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - AIéœ€è¦ã®æ€¥æ¿€ãªå¢—åŠ                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼äº‹æ¥­ã®æˆé•·                       â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - æ–°è£½å“ã®æŠ•å…¥äºˆå®š                              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **ãƒªã‚¹ã‚¯è¦å› :**                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ç«¶åˆä»–ç¤¾ã®å‚å…¥                                â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - åœ°æ”¿å­¦çš„ãƒªã‚¹ã‚¯                                â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **æŠ•è³‡ä»®èª¬:**                                   â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ AIéœ€è¦ã®ç¶™ç¶šçš„å¢—åŠ ã«ã‚ˆã‚Š6ãƒ¶æœˆã€œ1å¹´ã§20-30%ã®    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ æ ªä¾¡ä¸Šæ˜‡ãŒæœŸå¾…ã•ã‚Œã‚‹                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ### 3. ç·åˆè©•ä¾¡                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **æœ€ã‚‚æ¨å¥¨ã™ã‚‹éŠ˜æŸ„:** NVDA                      â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **ç†ç”±:** AIéœ€è¦ã®æˆé•·æ€§ãŒæœ€ã‚‚é«˜ã„              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ **æ¨å¥¨æŠ•è³‡æœŸé–“:** 6ãƒ¶æœˆã€œ1å¹´                   â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ [AIå›ç­”ã‚’è§£æ] [ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆã«é€²ã‚€]         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è‡ªå‹•è§£ææ©Ÿèƒ½

### AIå›ç­”è§£æãƒ­ã‚¸ãƒƒã‚¯

```typescript
class AIResponseParser {
  parseAIResponse(response: string): ParsedAIResponse {
    return {
      stocks: this.extractStocks(response),
      positiveFactors: this.extractPositiveFactors(response),
      riskFactors: this.extractRiskFactors(response),
      investmentThesis: this.extractInvestmentThesis(response),
      overallRecommendation: this.extractOverallRecommendation(response)
    };
  }

  private extractStocks(response: string): StockRecommendation[] {
    const stocks: StockRecommendation[] = [];
    
    // ãƒ†ã‚£ãƒƒã‚«ãƒ¼ã‚·ãƒ³ãƒœãƒ«ã®æŠ½å‡ºï¼ˆå¤§æ–‡å­—ã®è‹±å­—2-5æ–‡å­—ï¼‰
    const tickerPattern = /ãƒ†ã‚£ãƒƒã‚«ãƒ¼:\s*([A-Z]{2,5})/g;
    let match;
    
    while ((match = tickerPattern.exec(response)) !== null) {
      const ticker = match[1];
      
      // ä¼šç¤¾åã®æŠ½å‡º
      const companyNameMatch = response.match(
        new RegExp(`ãƒ†ã‚£ãƒƒã‚«ãƒ¼:\\s*${ticker}[\\s\\S]*?ä¼šç¤¾å:\\s*([^\\n]+)`, 'i')
      );
      
      // æŠ•è³‡æ¨å¥¨åº¦ã®æŠ½å‡º
      const ratingMatch = response.match(
        new RegExp(`ãƒ†ã‚£ãƒƒã‚«ãƒ¼:\\s*${ticker}[\\s\\S]*?æŠ•è³‡æ¨å¥¨åº¦:\\s*(\\d)/5`, 'i')
      );
      
      stocks.push({
        symbol: ticker,
        name: companyNameMatch?.[1]?.trim() || '',
        rating: parseInt(ratingMatch?.[1] || '0'),
        extractedFrom: this.findContext(response, ticker)
      });
    }
    
    return stocks;
  }

  private extractPositiveFactors(response: string): string[] {
    const factors: string[] = [];
    const positiveSection = response.match(/ãƒã‚¸ãƒ†ã‚£ãƒ–è¦å› :([\s\S]*?)(?=ãƒªã‚¹ã‚¯è¦å› :|$)/i);
    
    if (positiveSection) {
      const lines = positiveSection[1].split('\n');
      lines.forEach(line => {
        const factor = line.replace(/^[\s-*â€¢]\s*/, '').trim();
        if (factor && factor.length > 3) {
          factors.push(factor);
        }
      });
    }
    
    return factors;
  }

  private extractRiskFactors(response: string): string[] {
    const factors: string[] = [];
    const riskSection = response.match(/ãƒªã‚¹ã‚¯è¦å› :([\s\S]*?)(?=æŠ•è³‡ä»®èª¬:|ç·åˆè©•ä¾¡:|$)/i);
    
    if (riskSection) {
      const lines = riskSection[1].split('\n');
      lines.forEach(line => {
        const factor = line.replace(/^[\s-*â€¢]\s*/, '').trim();
        if (factor && factor.length > 3) {
          factors.push(factor);
        }
      });
    }
    
    return factors;
  }

  private extractInvestmentThesis(response: string): string {
    const thesisMatch = response.match(/æŠ•è³‡ä»®èª¬:([\s\S]*?)(?=ç·åˆè©•ä¾¡:|$)/i);
    return thesisMatch?.[1]?.trim() || '';
  }

  private extractOverallRecommendation(response: string): OverallRecommendation {
    const recommendationMatch = response.match(/æœ€ã‚‚æ¨å¥¨ã™ã‚‹éŠ˜æŸ„:\s*([A-Z]{2,5})/i);
    const reasonMatch = response.match(/ç†ç”±:\s*([^\n]+)/i);
    const periodMatch = response.match(/æ¨å¥¨æŠ•è³‡æœŸé–“:\s*([^\n]+)/i);
    
    return {
      symbol: recommendationMatch?.[1] || '',
      reason: reasonMatch?.[1]?.trim() || '',
      period: periodMatch?.[1]?.trim() || ''
    };
  }
}
```

## å®Ÿè£…ã®ãƒ¡ãƒªãƒƒãƒˆ

### 1. **AIå‡ºåŠ›ã®åˆ¶å¾¡**
- æ§‹é€ åŒ–ã•ã‚ŒãŸå›ç­”ã‚’å¼·åˆ¶
- å¿…è¦ãªæƒ…å ±ã®ç¢ºå®Ÿãªå–å¾—
- ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®å‰Šæ¸›

### 2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š**
- æ˜ç¢ºãªæ‰‹é †ã®æç¤º
- æœŸå¾…ã•ã‚Œã‚‹å½¢å¼ã®æ˜ç¤º
- è‡ªå‹•è§£æã«ã‚ˆã‚‹æ‰‹ä½œæ¥­å‰Šæ¸›

### 3. **ã‚·ã‚¹ãƒ†ãƒ ã®ä¿¡é ¼æ€§**
- ä¸€è²«ã—ãŸãƒ‡ãƒ¼ã‚¿å½¢å¼
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç°¡ç´ åŒ–
- ãƒ‡ãƒãƒƒã‚°ã®å®¹æ˜“ã•

## å®Ÿè£…å„ªå…ˆé †ä½

### Phase 1: åŸºæœ¬å®Ÿè£…
1. æ§‹é€ åŒ–ã•ã‚ŒãŸAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
2. ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¡¨ç¤º
3. åŸºæœ¬çš„ãªAIå›ç­”è§£æ

### Phase 2: é«˜åº¦ãªè§£æ
1. ã‚ˆã‚Šè©³ç´°ãªãƒ‡ãƒ¼ã‚¿æŠ½å‡º
2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿèƒ½

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€AIã®å‡ºåŠ›ã‚’åˆ¶å¾¡ã—ãªãŒã‚‰ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ˜ç¢ºãªæ‰‹é †ã‚’æç¤ºã§ãã¾ã™ï¼
